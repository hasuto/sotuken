<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>岩手県立産業技術短期大学校VR紹介サイト</title>
    <meta name="description" content="virtual_school_tour">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="vr_top.css">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>

    <meta name="description" content="ページの解説" />
    <meta name="author" content="SasakiHasuto" />
    <meta property='og:locale' content="ja_JP" />
    <meta property="fb:app_id" content="Facebook App ID" />
    <meta property='og:site_name' content="岩手県立産業技術短期大学校VR紹介サイト" />
    <meta property='og:title' content="VRページの矢巾校TOPページ" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="ページのツイッターアカウント" />
    <meta name="twitter:creator" content="ページコンテンツ製作者のツイッターアカウント" />
    <meta property="og:description" content="このページでは学校の校舎の外観をVRで体験するサイト" />
    <meta property="og:url" content="ページのURL" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="シェアされたときに表示する画像" />
    <meta property="og:image:width" content="画像の横幅（数値指定）" />
    <meta property="og:image:height" content="画像の高さ（数値指定）" />
    <link rel="apple-touch-icon" href="../favicon_IIT.png">

</head>

<body>
    <audio id="top_page_bgm" preload loop>
        <!-- <source src="op.ogg" type="audio/ogg"> -->
        <source src="marubatu_bgm.mp3" type="audio/mp3">
    </audio>
    <div class="container">

        <!-- モーダルエリアここから -->
        <section id="tutorial-modalArea" class="tutorial-modalArea">
            <div id="tutorial-modalBg" class="tutorial-modalBg"></div>
            <div class="tutorial-modalWrapper">
                <div class="tutorial-modal-content">
                    <div class="tutorial-modal-body">
                        <div class="tutorial-text">ようこそ！<br>バーチャル学校見学へ！</div>
                        <video id="modal_tutorial_video" width="540" height="260" autoplay loop preload playsinline>
                            <source src="tutorial (2).mp4" type="video/mp4">
                        </video>
                        <div class="tutorial-text">興味のある場所をクリックして<br>
                            施設内をVR画像で見てみよう！</div>
                    </div>
                </div>
                <div id="closebtn" class="closebtn">学校見学へGO!</div>
            </div>
        </section>

        <div class="header-nav" style="background-color: #fff;">
            <a class="navbar-brand" href="#">産技短VR学校見学</a>

            <ul class="navbar-nav">
                <li class="nav-item" id="y_campus">
                    <a class="nav-link">矢巾キャンパス</a>
                </li>
                <li class="nav-item" id="m_campus">
                    <a class="nav-link">水沢キャンパス</a>
                </li>

                <li class="nav-item" id="nav-alert">
                    <a class="nav-link" data-toggle="modal" id="openModal">使い方</a>
                    <!-- モーダルエリアここから -->
                    <section id="modalArea" class="modalArea">
                        <div id="modalBg" class="modalBg"></div>
                        <div class="modalWrapper">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="usageModalLongTitle">使い方</h5>
                                </div>
                                <div class="modal-body">
                                    <video id="modal_top_video" width="540" height="260" loop preload playsinline>
                                        <source src="tutorial (2).mp4" type="video/mp4">
                                    </video>
                                    <!-- <div style="text-align: center;"><img src="metoriku.png"></div> -->
                                    <div class="modal-text">興味のある場所をクリックして<br>
                                        施設内をVR画像で見てみよう！</div>
                                </div>
                                <!-- <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">閉じる</button>
                                    </div> -->
                            </div>
                            <div id="closebtn" class="closebtn">
                                閉じる
                            </div>
                        </div>
                    </section>
                    <!-- モーダルエリアここまで -->
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="update-Modal">更新履歴</a>
                    <!-- モーダルエリアここから -->

                    <section id="update-modalArea" class="update-modalArea">
                        <div id="update-modalBg" class="update-modalBg"></div>
                        <div class="update-modalWrapper">
                            <div class="update-modal-content">
                                <div class="update-modal-header">
                                    <h5 class="update-modal-title" id="usageModalLongTitle">更新履歴</h5>
                                </div>
                                <div class="update-modal-body">
                                    <ul>
                                        <li>2020/06/23 学生寮を公開</li>
                                        <li>2020/06/11 建築科、情報技術科を公開</li>
                                        <li>2020/06/10 電気技術科、産業技術専攻科を公開</li>
                                        <li>2020/06/09 電子技術科、産業デザイン科、建築設備科を公開</li>
                                        <li>2020/06/08 メカトロニクス技術科、生産技術科を公開</li>
                                        <li>2020/06/08 矢巾キャンパス、水沢キャンパスの施設を公開</li>
                                        <li>2020/06/08 バーチャル学校見学サイトを公開</li>
                                    </ul>
                                    <div class="update-text">Special thanks!</div>
                                    <ul>
                                        <li>アイコン : <a href="https://icooon-mono.com/" class="text-dark"
                                                target="_blank">ICOOON MONO</a></li>
                                        <li>音楽 : </li>
                                    </ul>
                                </div>
                            </div>
                            <div id="closebtn" class="closebtn">閉じる</div>
                        </div>
                    </section>
                    <!-- モーダルエリアここまで -->

                </li>

                <li class="nav-item">
                    <!-- 音声ファイル -->
                    <audio id="bgm1" preload loop>
                        <source src="op.ogg" type="audio/ogg">
                        <source src="bgm.mp3" type="audio/mp3">
                    </audio>

                    <!-- 再生ボタン -->
                    <button class="btn-play" type="button"><img src="images/volume_on.png"></button>

                    <script>

                    </script>
                </li>
            </ul>
            <!-- メニューバーここまで -->



        </div>
        <!-- <div class="top_contents"> -->
        <div class="iframe">
            <div class="iframe_main">
                <iframe id="top_aframe" src="" frameborder="0"></iframe>
            </div>
            <p class="iframe_title" id="iframe_title"></p>

            <div id="yahaba_pin_list_all">
                <label class="label_yahaba_pin" for="yahaba_pin">
                    <p>ピン一覧</p>
                </label>
                <input type="checkbox" id="yahaba_pin" class="accordion" />
                <ul id="yahaba_pin_list">
                    <li><img src="./images/meka_pin_2.png"><a>メカトロニクス技術科</a></li>
                    <li><img src="./images/densi_pin.png"><a>電子技術科</a></li>
                    <li><img src="./images/kentiku_pin.png"><a>建築科</a></li>
                    <li><img src="./images/sande_pin.png"><a>産業デザイン科</a></li>
                    <li><img src="./images/zyohou_pin.png"><a>情報技術科</a></li>
                    <li><img src="./images/senkou_pin.png"><a>専攻技術科</a></li>
                    <li><img src="./images/honkan_7.png"><a>多目的ホール</a></li>
                    <li><img src="./images/honkan_8.png"><a>体育館</a></li>
                    <li><img src="./images/honkan_9.png"><a>学生ホール</a></li>
                    <li><img src="./images/honkan_10.png"><a>学生寮</a></li>
                </ul>
            </div>

            <div id="mizusawa_pin_list_all">
                <label class="label_mizusawa_pin" for="mizusawa_pin">
                    <p>ピン一覧</p>
                </label>
                <input type="checkbox" id="mizusawa_pin" class="accordion" />
                <ul id="mizusawa_pin_list">
                    <li><img src="./images/seisan_pin.png"><a>生産技術科</a></li>
                    <li><img src="./images/denki_pin.png"><a>電気技術科</a></li>
                    <li><img src="./images/setubi_pin.png"><a>建築設備科</a></li>
                    <li><img src="./images/honkan_m_pin.png"><a>本館</a></li>
                    <li><img src="./images/taiku_m_pin.png"><a>体育館</a></li>
                </ul>
            </div>

        </div>
        <!-- モーダルエリアここから -->

        <!-- <div id="mask_all" class="mask">
                <img src="https://www.iwate-it.ac.jp/renew/wp-content/themes/sangitan/img/logo/logo_sangitan_blue.svg"
                    alt="岩手県立産業技術短期大学校" id="roder-img">
                <div class="loader"></div>
            </div> -->
    </div>
    <div id="loader" class="loader">
        <img src="https://www.iwate-it.ac.jp/renew/wp-content/themes/sangitan/img/logo/logo_sangitan_blue.svg"
            alt="岩手県立産業技術短期大学校" id="roder-img">
        <div class="loader_in"></div>
    </div>
    </div>

    <script type="text/javascript">
        const bgm1 = document.querySelector("#top_page_bgm");       // <audio>
        const btn = document.querySelector(".btn-play");   // <button>

        btn.addEventListener("click", () => {
            // pausedがtrue=>停止, false=>再生中
            if (!bgm1.paused) {
                btn.innerHTML = '<img src="images/volume_off.png">';  // 「再生ボタン」に切り替え
                bgm1.pause();
            }
            else {
                btn.innerHTML = '<img src="images/volume_on.png">';  // 「一時停止ボタン」に切り替え
                bgm1.play();
            }
        });

        /**
         * [event] 再生終了時に実行
         */
        bgm1.addEventListener("ended", () => {
            bgm1.currentTime = 0;  // 再生位置を先頭に移動(こいつはなくても大丈夫です)
            btn.innerHTML = '<img src="images/volume_on.png">';  // 「再生ボタン」に変更
        });
        $('#top_aframe').on('load', function () {
            //iframeのdocumentを取得する（Mozilla系 || 古いIE系）
            var doc = this.contentDocument || this.contentWindow.document;
            console.log(doc.querySelector('a-scene'));

            //iframeの全要素が読み込まれたら処理
            $("#top_aframe").contents().find(doc.querySelector('a-scene')).on("loaded", function (e) {
                console.log("コンプリートマイン2");
                if (document.getElementById('loader').classList.contains("loaded")) {

                } else {
                    window.setTimeout(function () {
                        loader.classList.add('loaded');
                        bgm.play()
                    }, 1000);


                }


            });

            $(function () {
                /*チュートリアル*/
                $('#tutorial-Modal').click(function () {
                    $('#tutorial-modalArea').fadeIn();
                });
                $('#closeModal , #tutorial-modalBg').click(function () {
                    $('#tutorial-modalArea').fadeOut();
                });
                $('#closebtn , #tutorial-modalBg').click(function () {
                    $('#tutorial-modalArea').fadeOut();
                });
            });




            if ((navigator.userAgent.indexOf('iPhone') > 0 && navigator.userAgent.indexOf('iPad') == -1) || navigator.userAgent.indexOf('iPod') > 0 || navigator.userAgent.indexOf('Android') > 0) {
                // ❶スマホのみに適用させるJavaScriptを記述
                var camera_pc = $("#top_aframe").contents().find(doc.getElementById('camera_pc'));
                // camera_pc.parentNode.removeChild(camera_pc);
                camera_pc.remove();

                $('#mizusawa_pin_list_all').find('p').addClass('res');
                $('#yahaba_pin_list_all').find('p').addClass('res');
                $('#yahaba_pin_list_all').find('a').addClass('res');
                $('#mizusawa_pin_list_all').find('a').addClass('res');
                $('.label_yahaba_pin').click(function () {
                    if ($('#yahaba_pin').prop('checked') == true) {
                        $(".label_yahaba_pin").removeClass("hover");
                    } else {
                        $(".label_yahaba_pin").addClass("hover");
                    }
                });

                $('.label_mizusawa_pin').click(function () {
                    if ($('#mizusawa_pin').prop('checked') == true) {
                        $(".label_mizusawa_pin").removeClass("hover");
                    } else {
                        $(".label_mizusawa_pin").addClass("hover");
                    }
                });

                $('.iframe_title').addClass('res');

                console.log("スマホだよーーーー");

            } else {
                var camera_phone = $("#top_aframe").contents().find(doc.getElementById('camera_phone'));
                camera_phone.remove();

                $('#yahaba_pin_list_all').hover(function () {
                    document.getElementById('yahaba_pin').checked = true;
                    $(".label_yahaba_pin").addClass("hover");
                },
                    function () {
                        document.getElementById('yahaba_pin').checked = false;
                        $(".label_yahaba_pin").removeClass("hover");
                    });
                $('#mizusawa_pin_list_all').hover(function () {
                    document.getElementById('mizusawa_pin').checked = true;
                    $(".label_mizusawa_pin").addClass("hover");
                },
                    function () {
                        document.getElementById('mizusawa_pin').checked = false;
                        $(".label_mizusawa_pin").removeClass("hover");
                    });
                console.log("PCだよーーーーーーー");
            }



            //iframeの中のhtmlのidが一致するオブジェクトを押すと実行
            //下記に各科を追加していく
            // syoukai_page('3', '1');
            $("#top_aframe").contents().find(doc.getElementById('mekatoro_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '1' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('mekatoro_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '1' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('densi_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '2' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('densi_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '2' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('kentiku_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '3' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('kentiku_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '3' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('sande_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '4' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('sande_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '4' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('zyohou_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '5' + "=" + '1';
            });


            $("#top_aframe").contents().find(doc.getElementById('zyohou_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '5' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('senkou_model')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '6' + "=" + '1';
            });


            $("#top_aframe").contents().find(doc.getElementById('senkou_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '6' + "=" + '1';
            });


            $("#top_aframe").contents().find(doc.getElementById('taiku')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '6';
            });


            $("#top_aframe").contents().find(doc.getElementById('syoku')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '4';
            });

            $("#top_aframe").contents().find(doc.getElementById('tamoku')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('ryou')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '8' + "=" + '1';
            });






            $("#top_aframe").contents().find(doc.getElementById('honkan_genkan')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('syokudou_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '4';
            });

            $("#top_aframe").contents().find(doc.getElementById('taikukan_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '7' + "=" + '6';
            });

            $("#top_aframe").contents().find(doc.getElementById('ryou_point')).on("click", function (e) {
                //alert('kentiku');
                window.location.href = "../vr_main_html/yahaba_main.html?a=" + 'text' + "=" + '8' + "=" + '1';
            });

            // $("#top_aframe").contents().find(doc.getElementById('kousya')).on("mouseenter", function (e) {
            //         //alert('kentiku');
            //         console.log("触れている");
            //         // syoukai_page('3', '1');
            // });



            //水沢校のクリックイベント
            $("#top_aframe").contents().find(doc.getElementById('seisangizyutu')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '9' + "=" + '1';
            });
            $("#top_aframe").contents().find(doc.getElementById('denkigizyutu')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '10' + "=" + '1';
            });
            $("#top_aframe").contents().find(doc.getElementById('kentikusetubi')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '11' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('honkan_m')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '12' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('taikukan_m')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '12' + "=" + '4';
            });

            $("#top_aframe").contents().find(doc.getElementById('seisan_point')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '9' + "=" + '1';
            });
            $("#top_aframe").contents().find(doc.getElementById('denki_point')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '10' + "=" + '1';
            });
            $("#top_aframe").contents().find(doc.getElementById('setubi_point')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '11' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('honkan_m_point')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '12' + "=" + '1';
            });

            $("#top_aframe").contents().find(doc.getElementById('taiku_m_point')).on("click", function (e) {
                window.location.href = "../vr_main_html/mizusawa_main.html?a=" + 'text' + "=" + '12' + "=" + '4';
            });




        });
    </script>
    <script src="vr_top.js"></script>




</body>

</html>